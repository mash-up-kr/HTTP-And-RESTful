URL과 리소스
===

URL은 인터넷의 리소스를 가리키는 표준 이름이다.

## URL

```
어떻게(스킴)://어디에(서버위치)/무엇을(경로)
```
- 스킴 : 리소스에 어떻게 접근할 것인가?
- 호스트 : 리소스가 어디에 있는가? 서버의 위치가 어디인가?
- 경로 : 리소스가 무엇인가?

## URL 문법
```
<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<쿼리>#<프래그먼트>
```

### 스킴 : 사용할 프로토콜
```
http://
ftp://
rstp://
```
스킴은 주어진 리소스에 접근하는 방법을 알려주는 정보이다. 스킴은 알파뱃으로 시작해야한다.

### 호스트와 포트
```
http://호스트:포트
http://twibeat.github.io:8080
http://123.456.78.9
```
리소스를 호스팅하고 있는 장비(호스트 주소)와 그 장비 내에서 리소스에 접근 할 수 있는 서버(포트)가 어디에 있는지 알아야한다. HTTP는 기본 포트로 80을 사용한다. 이는 생략 가능하다.

### 사용자 이름과 비밀번호
```
ftp://ftp.twibeat/data
ftp://id:password@ftp.twibeat/data
```
FTP같은 스킴은 서버에서 자신이 가지고 있는 데이터에 접근을 허용하기전에 사용자 이름과 비밀번호를 요구 할 수 있다. 사용자 이름과 비밀번호를 생략하면 기본이름으로 `anonymous`가 사용되고 비밀번호는 브라우저 마다 가지고 있는 기본 값을 사용한다.

### 경로
```
http://twibeat.github.io/HTTP공부하기1
```
URL의 경로는 리소스가 서버의 어디에 있는지 알려준다. 유닉스 파일시스템의 경로와 유사하다. 경로는 `/`으로 경로 조각을 나눈다.

### 파리미터
```
http://twibeat.github.io/dinner;menu=pizza;desert=icecream
```
어플리케이션 서버에 정확한 요청을 하기위해 필요한 입력 피라미터를 받는데 사용한다. `이름=값`형태로 전달가능하고 `;`으로 구분한다. 

### 질의 문자열
`?`뒤에 `&`으로 가능하다.

### 프레그먼트
```
https://mail.google.com/mail/u/0/#inbox
```

리소스의 특정 부분을 가리킬 수 있도록, URl은 리소스 내의 조각을 가리킬 수 있는 프래그먼트를 제공한다. 프래그먼트는 `#`이후에 온다.

## 단축 URL
URL은 상대 URL과 절대 URL로 나뉜다. 이전에 예로 나온 URL들은 절대 URL이다.

### 상대 URL
상대 URL은 URL을 짧게 표시하는 방식이다.상대 URL을 사용해 리소스를 간결하게 기술하는데 사용할 수 있다. 모든 필요한 정보를 얻기 위해서는 기저 URL을 사용해야한다.   

기저 URL이 다음과 같고
```
http://www.i-want-a-pizza.com/
```
상대 URL이 다음과 같다면
```
./pizza
```
다음으로 이동한다.
```
http://www.i-want-a-pizza.com/pizza
```

### 기저(Basis) URL 얻기
- 리소스에서 명시적으로 제공
- 리소스를 포함하고 있는 기저 URL : 명시적으로 제공되지 않는 경우 해당 페이지의 URL을 기저 URL로 사용
- 기저 URL이 없는 경우 : 절대 URL혹은 URL이 손상된 경우

### 상대 참조 해석하기
책의 그림 2-5

### URL 확장
어떤 브라우저들은 URL을 입력하는 동안에 확상시켜서 빠르게 입력하게 도와준다.(자동 완성)
- 호스트명 확장 : 입력한 호스트 명을 전체 호스트 명으로 확장 할 수 있다. 예를 들면 google을 입력하면 www.google.com으로 확장 한다.
- 히스토리 확장 : 과거에 방문 했던 URL의 기록을 저장해 놓고 자동완성 해준다.

## 안전하지 않은 문자 처리
URL은 모든 프로토콜이 데이터를 전송하기 위해서 서로 다른 장치를 가지고 있기 때문에 어떤 인터넷 프로토콜을 통해서든 안전하게 전송될 수 있도록 URL을 설계하는 것은 중요하다.
안전한 전송을 위해서 인코딩을 한다.

## 자주 사용되는 스킴들

### http
기본 형식 
```
http:<호스트>:<포트>/<경로>?<질의>#<프레그먼트>
```
포트 기본값은 80

### https
HTTP의 양 끝단에서 SSL을 사용한다.   
기본 형식 
```
http:<호스트>:<포트>/<경로>?<질의>#<프레그먼트>
```
포트 기본값은 433

### mailto
다른 스킴과는 다르게 동작한다. 메일 주소 문법은 RFC 822에 기술되어 있다.

### ftp
웹이 출현하기 전부터 있었다. FTP서버에 있는 파일을 업로드하거나 다운로드 하는 경우 사용한다.  
기본 형식
```
ftp://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>:<파라미터>
```

### rtsp, rtspu
실시간 스트리밍 프로토콜을 통해서 읽을 수 있는 미디어 리소스 식별자이다. rtspu는 UDP를 사용한다는 의미이다.
```
rtsp://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>
```

### file
주어진 호스트에 바로 접근 할 수 있는 파일들을 나타낸다.
```
file://<호스트>/<경로>
```


