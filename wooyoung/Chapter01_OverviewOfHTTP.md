# 1장. HTTP 개관



## 1.1 HTTP: 인터넷의 멀티미디어 배달부

- Http는 신뢰성 있는 데이터 전송 프로토콜을 사용한다.  ---  개발자는 인터넷의 결함이나 약점에(파괴,중복,왜곡) 대한 걱정 없이 애플리케이션 고유의 기능을 구현하는데 집중 할수 있다.
- HTTP는 현대 인터넷의 공용어

## 1.2 웹 클라이언트와 서버

- 웹 클라이언트 : 서버에게 HTTP 객체를 요청.. 브라우저 등..
- 웹 서버 : 리소스 를 저장하고, 클라이언트가 요청한 데이터를 전송(성공 이라면 그것의 타입, 길이 등의 정보와 함께)

## 1.3 리소스

- 어떤 종류의 콘텐츠 소스도 리소스가 될 수 있다.(텍스트파일, html파일, 웹 캠 등등..)

##### 1.3.1 미디어타입

- MIME 타입(다목적 인터넷 확장 메일) = 웹 서버는 모든 HTTP 객체 데이터에 MIME타입을 붙인다.
- 다양한 리소스의 데이터 타입을 다루기 위한 방법


- MIME 타입은 사선(/)으로 구분된 주 타입과 부 타입 으로 이루어진 문자열 라벨이다. ex. text/html, text/plain, image/jpeg

##### 1.3.2 URI

- 웹 서버 리소스는 각자 이름을 갖고 있음
- 서버 리소스 이름은 통합 자원 식별자(uniform resource identifier), URI 이다.
- URI는 인터넷의 우편물 주소 같은 것으로, 정보 리소스를 고유하게 식별하고 위치를 지정
- URI 에는 URL 과 URN 두가지가 있다.

##### 1.3.3 URL

- 통합 자원 지시자(uniform resource locator, URL)는 리소스 식별자의 가장 흔한 형태다.
- URL은 특정 서버의 한 리소스에 대한 구체적인 위치를 서술한다.
- URL은 세 부분 으로 이루어진 표준 포맷을 따름.
- - 스킴(scheme) - 보통 http 프로토콜
  - 서버의 인터넷 주소
  - 웹 서버의 리소스를 가리킴
- 오늘날 대부분의 URI는 URL이다.

##### 1.3.4 URN

- 유니폼 리스소 이름(uniform resource name, URN)
- URN은 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할을 한다.
-  URN의 전망은 밝으나, 리소스 위치를 분석하기 위한 인프라 자원이 부재하기에 URN 채택이 늦춰지고 있다.



## 1.4 트랜잭션

- HTTP 트랜잭션 은 요청 명령 + 요청 응답 으로 구성되어있고, 상호작용은 HTTP 메시지 라는 정형화된 데이터 덩어리를 이용해 이루어진다.

##### 1.4.1 메서드

- HTTP는 HTTP 메서드라고 불리는 여러 가지 종류의 요청 명령을 지원
- HTTP 요청 메시지는 한개의 메서드를 갖는다.
- 흔히 쓰이는 5개 메서드 : GET, PUT, DELETE, POST, HEAD

##### 1.4.2 상태 코드

- 모든 HTTP 응답 메시지는 상태 코드(세 자리 숫자)와 함께 반환 된다.
- ex. 200, 302, 404
- HTTP 각 숫자 상태 코드에 텍스트로 된 "사유 구절"도 함께 보낸다. 이 구문은 단지 설명만을 위해서 포함된 것일 뿐이다.

##### 1.4.3 웹페이지는 여러 객체로 이루어질 수 있다.

- 애플리케이션은 보통 하나의 작업을 수행하기 위해 여러 HTTP 트랜잭션을 수행
- '웹페이지'는 보통 하나의 리소스가 아닌 리소스의 모음이다.



## 1.5 메시지

- HTTP 메시지는 일반 텍스트의 단순한 줄 단위의 문자열이다.
- 요청,응답 메시지 이외의 다른 종류의 HTTP 메시지는 없다. , 요청,응답 메시지의 형식은 굉장히 비슷하다.
- 시작줄, 헤더, 본문으로 구성된다.



## 1.6 TCP 커넥션

- TCP(Transmission Control Protocol, 전송 제어 프로토콜)

##### 1.6.1 TCP/IP

- TCP/IP 는 대중적이고 신뢰성이 있는 프로토콜이다.
- TCP 는 다음을 제공한다.

> 오류 없는 데이터 전송.
>
> 순서에 맞는 전달(데이터는 언제나 보낸 순서대로 도착한다.)
>
> 조각 나지 않는 데이터 스트림(언제든 어떤 크기로든 보낼 수 있다.)

- TCP/IP 는 TCP 와 IP가 층을 이루는, 패킷 교환 네트워크 프로토콜의 집합이다.
- 어떤 종류의 컴퓨터나 네트워크든 서로 신뢰성 있는 의사소통을 하게 해 준다.

##### 1.6.2 접속, IP 주소 그리고 포트번호

- HTTP 클라이언트가 서버에 메시지를 전송할 수 있게 되기 전에, 인터넷 프로토콜(IP) 주소와 포트번호를 사용해 클라이언트와 서버 사이에 TCP/IP 커넥션을 맺어야 한다. - 한쪽에서 다른쪽으로 전화를 거는 거와 비슷하다.
- IP(Internet Protocol) 인터넷 프로토콜
- DNS, Port

##### 1.6.3 텔넷(Telnet)을 이용한 실제 예제

- HTTP는 TCP/IP를 사용하고 있어, 이진 형식이 아닌 문자열 기반이기 떄문에, 웹 서버와 직접 대화 가 가능하다.
- 텔넷이란 원격지 컴퓨터를 액세스하기 위한 사용자 명령어들과 TCP/IP 기반의 프로토콜을 말한다
- 텔넷 은 원격지의 컴퓨터에 접속하여 서비스를 제공 받음으로서 자신의 컴퓨터가 제공하는 것처럼 사용하는 방법이다. 다른 컴퓨터에 접속하려면 그컴퓨터의 ID와 비밀번호를 알고 있어야한다. 텔넷 고유 포트번호는 23번이다. ex.Putty
- Telnet 과 SSH 의 차이 : 공통점은 둘다 원격의 컴퓨터를 제어한다는것. 차이점은 데이터 전송 방식에 있다. Telnet은 Byte 스트림 형식으로 데이터를 주고 받지만, SSH는 암호화 하여 데이터를 주고 받는다.
- Telnet은 기본적으로 패킷을 암호화 하지 않기 때문에, 스니퍼링(sniffering) 에 노출될수 있다.



## 1.7 프로토콜 버전

- HTTP/0.9, HTTP/1.0, HTTP/1.0+, HTTP/1.1, HTTP/2.0



## 1.8 웹의 구성요소

- 프락시 - 클라이언트와 서버 사이에 위치한 HTTP 중개자
- 캐시 - 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
- 게이트웨이 - 다른 애플리케이션과 연결된 특별한 웹 서버
- 터널 - 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시
- 에이전트 - 자동화된 HTTP 요청을 만드는 준지능적(semi-intelligent) 웹클라이언트

##### 1.8.1 프락시

- 클라이언트와 서버 사이에 위치하여, 클라이언트의 모든 HTTP 요청을 받아 서버에 전달한다.(대개 요청을 수정한 뒤에)
- HTTP 프락시 서버는 주로 보안을 위해 사용된다.
- 요청과 응답을 필터링하고, 신뢰할 만 한 중개자 역할을 한다.

##### 1.8.2 캐시

- 웹캐시 와 캐시 프락시는 자신을 거쳐 가는 문서들 중 자주 찾는 것의 사본을 저장 해 두는, 특별한 종류의 HTTP 프락시 서버다.
- 근처의 캐시에서 훨씬 더 빨리 문서를 다운 받을 수 있다.
- HTTP는, 캐시를 효율적으로 동작하게 하고 캐시된 콘텐츠를 최신 버ㅓㄴ으로 유지한다.
- 캐시 프락시는 성능 향상을 위해 자주 찾는 문서의 사본을 저장해둔다.

##### 1.8.3 게이트웨이

- 다른 서버들의 중개자로 동작하는 특별한 서버이다.
- 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용된다.
- 게이트웨이는 스스로 리소스를 갖고 있는 진짜 서버인 것처럼 요청을 다루고, 클라이언트는 자신이 게이트웨이와 통신하고 있음을 알아채지 못할 것이다.

##### 1.8.4 터널

- 터널은 두 커넥션 사이에서 날(raw) 데이터를 열어보지 않고 그대로 전달해주는 HTTP 애플리케이션이다.
- HTTP 터널을 활용하는 대표적인 예로, 암호화된 SSL 트래픽을 HTTP 커넥션으로 전송함으로써 웹 트래픽만 허용하는 사내 방화벽을 통과시키는 것이 있다.

##### 1.8.5 에이전트

- HTTP 요청을 만들어주는 클라이언트 프로그램이다.
- ex.  웹브라우저, 스파이더, 웹로봇 등..
