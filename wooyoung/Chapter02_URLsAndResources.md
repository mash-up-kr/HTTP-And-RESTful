# 2장. URL과 리소스

- URL(Uniform Resource Locator)은 인터넷의 리소스를 가리키는 표준이름이다.
- URL은 전자정보 일부를 가리키고 그것이 어디에 있고 어떻게 접근할 수 있는지 알려준다.



## 2.1 인터넷의 리소스 탐색하기

- URI는 두 가지 주요 부분집합인, URL과 URN으로 구성된 종합적인 개념이다. -- URN은 현재 그 리소스가 어디에 존재하든 상관없이 그 이름만으로 리소스를 식별하는데 비해 URL은 리소스가 어디 있는지 설명해서 리소스를 식별한다.
- '스킴://서버위치/경로' — URL이 브라우저, 컴퓨터, 서버, 서버파일 시스템의 어디에 위치하고 어떻게 연결되는지 보여준다.
- URL은 브라우저에게 정보 찾는데 필요한 모든 것을 제공하며, 당신이 원하는 리소스가 어디에 위치하고 어떻게 가져오는지 정의한다.



## 2.2 URL 문법

- 대부분의 URL 스킴의 문법은 일반적으로 9개 부분으로 나뉨.
- <스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>
- 가장 중요한 세 가지 컴포넌트는 스킴,호스트,경로 다.

|       컴포넌트       |                    설명                    |    기본값    |                    예제                    |
| :--------------: | :--------------------------------------: | :-------: | :--------------------------------------: |
|        스킴        | 리소스를 가져오려면 어떤 프로토콜을 사용하여 서버에 접근해야 하는지 가르킨다. |     -     |              http:// ftp://              |
|      사용자이름       |  몇몇 스킴은 리소스에 접근을 하기 위해 사용자 이름을 필요로 한다.   | annoymous | ftp://ftp.prep.ai.mit.edu/pub/gnu ftp://annoymous@ ftp.prep.ai.mit.edu/pub/gnu |
|       비밀번호       | 사용자의 비밀번호를 가리키며, 사용자 이름에 콜론(:)으로 이어서 기술한다. |   이메일주소   | ftp://annoymous:my_password@ ftp.prep.ai.mit.edu/pub/gn                                  http://joe:joespasswd@                                       www.joes-hardware.com/sales_info.txt |
|       호스트        |        리소스 호스팅하는 서버의 호스트 명이나 IP주소        |     -     |                                          |
|        포트        | 리소스를 호스팅하는 서버가 열어놓은 포트번호, 많은 스킴이 기본 포트를 가지고 있다. (HTTP의 기본 포트는 80이다.) | 스킴에 따라 다름 |                                          |
|        경로        | 이전 컴포넌트와 빗금(/)으로 구분되어 있으며, 서버 내 리소스가 서버 어디에 있는지를 가르킨다. |     -     |                                          |
|       파라미터       | 특정 스킴들에서 입력 파라미터를 기술하는 용도로 사용한다. 파마미터는 이름/값을 쌍으로 가진다. 파라미터와 다른 파라미터나 경로의 일부와 세미콜론(;)으로 구분하여 기술하며, 여러 개를 가질 수 있다. |     -     | ftp://ftp.prep.ai.mit.edu/pub/ gnu;type=d                                         http://www.joes-hardware.com/hammers;sale=false/                    index.html;graphics-true |
| 질의(Query String) | 스킴에서 애플리케이션에 파라미터를 전달하는데 쓰인다. 공통 포맷은 없고 URL의 끝에 “?”로 구분한다. 질의와 질의는 “&”로 연결한다. |     -     | http://www.joes-hardware.com    /inventory-check.cgi                       ?item=12731&color=blue |
|      프래그먼트       | 리소스의 조각이나 일부분, 특정객체를 가리키는 이름이다. 클라이언트에서만 사용. URL의 끝에 “#”로 구분한다. |     -     |                                          |



## 2.3 단축 URL

##### 2.3.1 상대 URL

- URL은 상대URL 절대URL 두 가지로 나뉜다.
- 절대URL은 접근하는데 필요한 모든 정보를 가지고 있다.
- 상대URL은 모든 정보가 없고 기저(BASE)URL을 사용해야 한다.
  - 상대URL = ex) ./hammer.html
  - 절대URL = 기저+상대URL - http://www.joes-hardware.com/hammer.html

##### 2.3.2 URL 확장

- 호스트 명 확장 : ex) naver -> www.naver.com
- 히스토리 확장 : ex) https://www.gith ->  https://www.github.com 보여줌

## 2.4 안전하지 않은 문자

- 안전한 전송이란, 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미한다.
- 이스케이프 를 추가하여, 안전하지 않은 문자를 안전한 문자로 인코딩할 수 있게 하였다.

##### 2.4.2 인코딩 체계

- 인코딩은 안전하지 않은 문자를 퍼센티지 기호(%)로 시작해, ASCII 코드로 표현되는 두 개의 16진수 숫자로 이루어진 '이스케이프' 문자로 바꾼다.

##### 2.4.3 문자 제한

- URL에서 예약된 문자들을 본래의 목적이 아닌 다른 용도로 사용하려면, 그 전에 반드시 인코딩해야 하는 문자들이 있음(선점 및 제한 표 참고)

## 2.5 스킴의 바다

> http
>
> https
>
> mailto
>
> ftp
>
> ftsp, rtspu (실시간 스트리밍 프로토콜)
>
> file
>
> news
>
> telnet 등..



## 2.6 미래

- URL은 강력한 도구이지만, 리소스가 옮겨지면 URL을 더는 사용할수 없다.
- 이런 문제를 예방할 수 있는 이상적인 방법은, 객체의 위치와 상관없이, 그 객체를 가리키는 실제 객체의 이름을 사용하는것이다.
- URN(Uniform Resource Names)
- 지속 통합 자원 지시자(Persistent uniform resource locators, PURL) 을 사용하면 URL 로 URN의 기능을 제공할 수 있다.
- PURL은 리소스의 실제 URL 목록을 관리하고 추적하는 리소스 위치 중개 서버를 두고, 해당 리소스를 우회적으로 제공
- URL에서 URN 으로 주소 체계를 바꾸는 것은 매우 큰 작업임.
- URL을 대체할 수 있는 작명 스킴이 나오기 전까지는 계속 사용될 것이다.
